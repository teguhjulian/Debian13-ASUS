#NOTE! sebelum copas kamu chek api key di https://aistudio.google.com/api-keys dan cp api key itu ke script ini cara buat api key kalian bisa shearcing di google gambang kok
#KALO KAMU PEKE DEBIAN SCRIPT INI DIBERIKAN NAMA gemini di /usr/local/bin/gemini misalkan terus kalian chmod +x /usr/local/bin/gemini terus kalau mau pake cuma gemini halo misalkan..
#!/bin/bash
#PASTE API KEY DISINI DI BARISAN API-KEY="KAMU ISI DI BAGIAN INI"
API_KEY=""
MODEL="gemini-2.5-flash"
PROMPT="$*"

if [ -z "$PROMPT" ]; then
    echo -e "\e[1;33mUsage: gemini [pertanyaan kamu]\e[0m"
    exit 1
fi

# Loading animation sederhana
echo -n "ğŸ¤– Sedang berpikir..."
response=$(curl -s -X POST "https://generativelanguage.googleapis.com/v1beta/models/${MODEL}:generateContent?key=${API_KEY}" \
    -H "Content-Type: application/json" \
    -d "{
        \"contents\": [{\"parts\":[{\"text\": \"$PROMPT\"}]}]
    }")
echo -e "\r\033[K"

# Ambil teks jawaban
output=$(echo "$response" | jq -r '.candidates[0].content.parts[0].text // empty')

if [ -z "$output" ]; then
    echo "âŒ Gagal mendapatkan jawaban. Cek koneksi atau API Key."
    echo "$response" | jq .
    exit 1
fi

# Tampilan Bingkai Atas
echo -e "\e[1;36mâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®\e[0m"

# Tampilkan isi jawaban menggunakan glow agar rapi (tabel, bold, list jadi cantik)
echo -e "$output" | glow -s dark

# Tampilan Bingkai Bawah
echo -e "\e[1;36mâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯\e[0m"
